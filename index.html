<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<!-- <meta http-equiv="X-UA-Compatible" content="IE=Edge"> -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recipe Recommender</title>
    <meta name="author" content="Hoeun Sim">
	<meta name="keywords" content="food, recipe, cooking, recipes, finder, reccomender">
	<meta name="description" content="A recipe search engine that generates recipes based on ingredients">

	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/animate.min.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/nivo-lightbox.css">
	<link rel="stylesheet" href="css/nivo_themes/default/default.css">
	<link rel="stylesheet" href="css/style.css">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>

    <script>

        var API_URL = "http://localhost:5000/";

        function onSearch() {
            var userQuery = $("#search").val().split(" ").join(",");
            $.ajax(
                {
                    url: API_URL + "search?q=" + userQuery,
                    crossDomain: true,
                    beforeSend: function(xhr){
                        xhr.withCredentials = true;
                     }
                }).done(function(results) {
                    console.log(results);
                    console.log(typeof results);

                    // var html = "<table border=2>";
				// var html = "<div class=\"col-md-4 col-sm-4 wow fadeInUp\" data-wow-delay=\"0.3s\">";
				var html;

				results.forEach(function(recipe, i) {
                        // html += "<tr><td>" +
						// 	"<a href=" + recipe.url + " target=\"_blank\"> " + recipe.title + "</a>" + "<td><td>" +
                        //     recipe.rating + "</td><td>" +
                        //     recipe.time + "</td><td>" +
                        //     recipe.ingredients.join("<br>") +
						// 	"<img src=\"" + "data/allrecipes/images/userphotos/"  + recipe.image + "\" alt=\"" + recipe.title + "\">" + "</td><td>" +
						//
                        //     "</td></tr>";

						if (i == 0 || i == 3 || i == 6 ) {
							html += renderRecipeC1(recipe);
						}
						if (i == 1 || i == 4 || i == 7 ) {
							html += renderRecipeC2(recipe)
						}
						if ( i == 2 || i == 5 || i == 8) {
							html += renderRecipeC3(recipe);
						}


                    });
					// html += "</div>";
                    // html += "</table>";

			// <div id="search_results"></div>
			// 			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
			// <a href="images/gallery-img3.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img3.jpg" alt="gallery img"></a>

				function renderRecipeC1(recipe) {
					var html = "<div class=\"col-md-4 col-sm-4 wow fadeInUp\" data-wow-delay=\"0.3s\">" +
								"</a><img src=\"" +
								"data/allrecipes/images/userphotos/" + recipe.image + "\" alt=\"" + recipe.title + "\" height=\"250\" width=\"250\">" +
								"<div><h2><a href=" + recipe.url + " target=\"_blank\"> " + recipe.title + "</a>"  +
								"</h2>" +
								"<h3> Rating: " + recipe.rating + "/100  " + "   Time: " + recipe.time + " M</h3>" +
								"<span>" + recipe.ingredients.join("<br>") + "</span>" +
								"</div></div>";
					return html;
				}

				function renderRecipeC2(recipe) {
					var html = "<div class=\"col-md-4 col-sm-4 wow fadeInUp\" data-wow-delay=\"0.6s\">" +
								"</a><img src=\"" +
								"data/allrecipes/images/userphotos/" + recipe.image + "\" alt=\"" + recipe.title + "\" height=\"250\" width=\"250\">" +
								"<div><h2><a href=" + recipe.url + " target=\"_blank\"> " + recipe.title + "</a>"  +
								"</h2>" +
								"<h3> Rating: " + recipe.rating + "/100  " + "   Time: " + recipe.time + " M</h3>" +
								"<span>" + recipe.ingredients.join("<br>") + "</span>" +
								"</div></div>";
					return html;
				}

				function renderRecipeC3(recipe) {
					var html = "<div class=\"col-md-4 col-sm-4 wow fadeInUp\" data-wow-delay=\"0.9s\">" +
							"</a><img src=\"" +
							"data/allrecipes/images/userphotos/" + recipe.image + "\" alt=\"" + recipe.title + "\" height=\"250\" width=\"250\">" +
							"<div><h2><a href=" + recipe.url + " target=\"_blank\"> " + recipe.title + "</a>"  +
							"</h2>" +
							"<h3> Rating: " + recipe.rating + "/100  " + "   Time: " + recipe.time + " M</h3>" +
							"<span>" + recipe.ingredients.join("<br>") + "</span>" +
							"</div></div>";
					return html;
				}

                    $("#search_results").html(html);
            });
        }
    </script>
</head>
<body>

<!-- preloader section -->
<section class="preloader">
	<div class="sk-spinner sk-spinner-pulse"></div>
</section>

<!-- navigation section -->
<section class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="icon icon-bar"></span>
				<span class="icon icon-bar"></span>
				<span class="icon icon-bar"></span>
			</button>
			<a href="#" class="navbar-brand">Recipe Recommender</a>
		</div>
		<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				<li><a href="#home" class="smoothScroll">HOME</a></li>
                <li><a href="#recipes" class="smoothScroll">RECIPES</a></li>
				<li><a href="#contact" class="smoothScroll">CONTACT</a></li>
			</ul>
		</div>
	</div>
</section>


<!-- home section -->
<section id="home" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-2 col-md-8 col-sm-12 text-center">
				<h1>RECIPE RECOMMENDER</h1>
				<h2>Search 87k+ Recipes</h2>
				<a href="#recipes" class="smoothScroll btn btn-default">Find a Recipe</a>
			</div>
		</div>
	</div>
</section>


<!-- recipe/search section -->
<section id="recipes" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-1 col-md-10 col-sm-12 text-center">
				<h1 class="heading">Search for Recipes by Entering Ingredients you already have</h1>
                <div class="col-md-12 col-sm-12">
                    <div class="search-container">
                        <input name="search" type="text" class="form-control" id="search" placeholder="Find a Recipe">
                        <button type="search" onclick="onSearch()"><i class="fa fa-search"></i></button>
                    </div>
                </div>
				<hr>
			</div>
			<div id="search_results">
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.3s">
				<a href="images/gallery-img1.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img1.jpg" alt="gallery img"></a>
				<div>
					<h3>Lemon-Rosemary Prawn</h3>
					<span>Seafood / Shrimp / Lemon</span>
				</div>
				<a href="images/gallery-img2.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img2.jpg" alt="gallery img"></a>
				<div>
					<h3>Lemon-Rosemary Vegetables</h3>
					<span>Tomato / Rosemary / Lemon</span>
				</div>
			</div>
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
				<a href="images/gallery-img3.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img3.jpg" alt="gallery img"></a>
				<!--<a href="data/allrecipes/images/userphotos/250x250/398.jpg" data-lightbox-gallery="zenda-gallery"><img src="data/allrecipes/images/userphotos/250x250/398.jpg" alt="gallery img"></a>-->
				<div>
					<h3>Lemon-Rosemary Bakery</h3>
					<span>Bread / Rosemary / Orange</span>
				</div>
			</div>
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.9s">
				<a href="images/gallery-img4.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img4.jpg" alt="gallery img"></a>
				<div>
					<h3>Lemon-Rosemary Salad</h3>
					<span>Chicken / Rosemary / Green</span>
				</div>
				<a href="images/gallery-img5.jpg" data-lightbox-gallery="zenda-gallery"><img src="images/gallery-img5.jpg" alt="gallery img"></a>
				<div>
					<h3>Lemon-Rosemary Pizza</h3>
					<span>Pasta / Rosemary / Green</span>
				</div>
			</div>
			</div>
		</div>
	</div>
</section>

<!-- contact section -->
<section id="contact" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-1 col-md-10 col-sm-12 text-center">
				<h1 class="heading">Contact Me</h1>
				<hr>
			</div>
			<div class="col-md-offset-1 col-md-10 col-sm-12 wow fadeIn" data-wow-delay="0.8s">
				<form action="#" method="post">
					<div class="col-md-6 col-sm-6">
						<input name="name" type="text" class="form-control" id="name" placeholder="Name">
				  </div>
					<div class="col-md-6 col-sm-6">
						<input name="email" type="email" class="form-control" id="email" placeholder="Email">
				  </div>
					<div class="col-md-12 col-sm-12">
						<textarea name="message" rows="8" class="form-control" id="message" placeholder="Message"></textarea>
					</div>
					<div class="col-md-offset-3 col-md-6 col-sm-offset-3 col-sm-6">
						<input name="submit" type="submit" class="form-control" id="submit" value="Send Message">
					</div>
				</form>
			</div>
			<div class="col-md-2 col-sm-1"></div>
		</div>
	</div>
</section>

<!-- copyright section -->
<section id="copyright">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<h3>RECIPE RECOMMENDER</h3>
				<p>Â© 2019 All rights reserved.</p>
			</div>
		</div>
	</div>
</section>


<!-- JAVASCRIPT JS FILES -->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.parallax.js"></script>
<!-- <script src="js/smoothscroll.js"></script> -->
<script src="js/nivo-lightbox.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/custom.js"></script>

</body>
</html>
